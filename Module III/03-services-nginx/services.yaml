---
# ClusterIP Service - Internal cluster communication
apiVersion: v1
kind: Service
metadata:
  name: nginx-clusterip
  labels:
    app: nginx-web
    service-type: clusterip
spec:
  type: ClusterIP
  selector:
    app: nginx-web
    tier: frontend
  ports:
  - name: http
    port: 80
    targetPort: 80
    protocol: TCP
  sessionAffinity: None

---
# NodePort Service - External access via node IPs
apiVersion: v1
kind: Service
metadata:
  name: nginx-nodeport
  labels:
    app: nginx-web
    service-type: nodeport
spec:
  type: NodePort
  selector:
    app: nginx-web
    tier: frontend
  ports:
  - name: http
    port: 80
    targetPort: 80
    nodePort: 30080
    protocol: TCP
  sessionAffinity: None

---
# LoadBalancer Service - External load balancer (cloud providers)
apiVersion: v1
kind: Service
metadata:
  name: nginx-loadbalancer
  labels:
    app: nginx-web
    service-type: loadbalancer
  annotations:
    service.beta.kubernetes.io/external-traffic: Cluster
spec:
  type: LoadBalancer
  selector:
    app: nginx-web
    tier: frontend
  ports:
  - name: http
    port: 80
    targetPort: 80
    protocol: TCP
  sessionAffinity: None

---
# Headless Service - Direct pod access
apiVersion: v1
kind: Service
metadata:
  name: nginx-headless
  labels:
    app: nginx-web
    service-type: headless
spec:
  type: ClusterIP
  clusterIP: None  # Makes it headless
  selector:
    app: nginx-web
    tier: frontend
  ports:
  - name: http
    port: 80
    targetPort: 80
    protocol: TCP

---
# ExternalName Service - Maps to external service
apiVersion: v1
kind: Service
metadata:
  name: nginx-external-alias
  labels:
    service-type: externalname
spec:
  type: ExternalName
  externalName: nginx-loadbalancer.default.svc.cluster.local
  ports:
  - port: 80